version: "3.8"

services:
  gewaechshaus:
    build: .
    container_name: gewaechshaus
    restart: always
    privileged: true
    devices:
      - "/dev/gpiomem:/dev/gpiomem"
      - "/sys/bus/w1/devices:/sys/bus/w1/devices"
      - "/dev/i2c-1:/dev/i2c-1"
    environment:
      - MEASURE_INTERVAL_SECONDS=40
      - LOG_LVL=INFO
      - TEMPERATURE_OUTSIDE_SENSOR_ID=000000b47976
      - TEMPERATURE_INSIDE_SENSOR_ID=000000b998e3
      - SOIL_MOISTURE_SENSOR_CHANNEL_BACK=23
      - SOIL_MOISTURE_SENSOR_CHANNEL_FRONT=24
      - LCD_COLUMNS=16
      - LCD_ROWS=2
    command: poetry run python src/main.py